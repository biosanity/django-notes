<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Authentication</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css"
    />
  </head>
  <body>
    <nav class="navbar" role="navigation" aria-label="main navigation">
      <div class="navbar-brand">
        <a class="navbar-item" href="/"
          ><span class="is-size-4 has-text-primary"
            ><strong>Django Notes</strong></span
          ></a
        >

        <a
          role="button"
          class="navbar-burger"
          aria-label="menu"
          aria-expanded="false"
          data-target="navbarBasicExample"
        >
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
        </a>
      </div>

      <div id="navbarBasicExample" class="navbar-menu">
        {% if user.is_authenticated %}
        <div id="navbarBasicExample" class="navbar-menu">
          <div class="navbar-end">
            <div class="navbar-item">
              <h4>
                <strong class="mr-2">Hello, {{ firstname.capitalize }}</strong>
              </h4>
              <div class="buttons">
                <a class="button is-light" href="/signout">
                  <strong>Sign out</strong>
                </a>
              </div>
            </div>
          </div>
        </div>

        {% else %}
        <div class="navbar-end">
          <div class="navbar-item">
            <div class="buttons">
              <a class="button is-primary" href="/signup">Sign up</a>
              <a class="button is-light" href="/signin">Log in</a>
            </div>
          </div>
        </div>
        {% endif %}
      </div>
    </nav>

    {% for message in messages %}
    <div
      style="position: absolute; left: 0; right: 0"
      class="m-5 notification is-info is-light alert-{{ message.tags }}"
      role="alert"
    >
      <strong>Message: {{ message }}</strong>
      <button
        type="button"
        class="delete"
        data-dismiss="alert"
        aria-label="Close"
        onclick="removeMessage(this);"
      >
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    {% endfor %} {% block content %}{% endblock %}

    <script>
      function removeMessage(buttonElement) {
        var messageDiv = buttonElement.parentElement;
        messageDiv.remove();
      }
    </script>
  </body>
</html>
